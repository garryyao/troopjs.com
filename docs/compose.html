<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content=" TroopJS website generated from reusable templates and data by Assemble">
    <title>
      Compose | TroopJS
    </title>

    <!-- Styles -->
    <link rel="stylesheet" href="../assets/css/assemble.css">
    <link rel="stylesheet" href="../assets/css/markdown.css">

    <!-- Webfonts -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,300,600,700' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

    <!--[if lt IE 9]>
  <script src="../assets/js/html5shiv.js"></script>
  <script src="../assets/js/respond/respond.min.js"></script>
<![endif]-->

    <!-- Favicons -->
    <link rel="shortcut icon" type="image/png" href="../assets/img/favicon.png">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl =
        '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-33358518-5']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body style="background: white;" data-spy="scroll" data-target=".bs-sidebar">
    <div class="navbar" role="banner">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
            <span class="icon-bar"></span> 
            <span class="icon-bar"></span> 
            <span class="icon-bar"></span> 
          </button>
          <a href="../docs/" class="navbar-brand" style="background: url(../assets/img/brand.png) transparent no-repeat;">
            Troop.JS
          </a> 
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
          <ul class="nav navbar-nav">
            <li>
              <a href="../docs/">Docs</a> 
            </li>
            <li>
              <a href="../contrib/">Contrib</a> 
            </li>
            <li>
              <a href="https://cdn.rawgit.com/troopjs/troopjs/build/3.x/docs/index.html" title="TroopJS 3.x API Docs" target="_blank">API</a> 
            </li>
          </ul>
          <ul class="nav navbar-nav pull-right">
            <li>
              <a href="javascript:void(0)" onclick="_gaq.push(['_trackEvent', 'click-repo', 'clicked'])">
                <iframe src="http://ghbtns.com/github-btn.html?user=troopjs&repo=troopjs&type=watch&count=true&size=large" frameborder="0" scrolling="0" style="width:120px; height: 30px;" allowTransparency="true"></iframe>
              </a> 
            </li>
            <li>
              <a href="https://github.com/troopjs/troopjs/tags" title="Download TroopJS" target="_blank" onclick="_gaq.push(['_trackEvent', 'navbar-download', 'clicked'])">
                <i class="glyphicon glypicon-large glyphicon-download"></i>
              </a> 
            </li>
          </ul>
        </nav>
      </div>
    </div>
    <header class="masthead subhead">
      <div class="container">
        <div class="row">
          <div class="col col-lg-12">
            <h1>
              <span class="text-muted">Docs /&nbsp;</span> concepts
            </h1> 
          </div>
        </div>
      </div>
    </header>
    <div class="container">
      <div class="row">
        <div class="col col-lg-3">
          <div class="sidebar">
            <span class="nav-section-title">
              Getting Started
            </span> 
            <ul class="nav nav-pills nav-stacked">
              <li>
                <a href="index.html" onclick="_gaq.push(['_trackEvent', 'Sidenav', 'clicked', 'getting started/Introduction']);">Introduction</a> 
              </li>
              <li>
                <a href="installation.html" onclick="_gaq.push(['_trackEvent', 'Sidenav', 'clicked', 'getting started/Installation']);">Installation</a> 
              </li>
              <li>
                <a href="first-app.html" onclick="_gaq.push(['_trackEvent', 'Sidenav', 'clicked', 'getting started/Kick Start']);">Kick Start</a> 
              </li>
            </ul>
            <span class="nav-section-title">
              Core Concepts
            </span> 
            <ul class="nav nav-pills nav-stacked">
              <li class="active">
                <a href="compose.html" onclick="_gaq.push(['_trackEvent', 'Sidenav', 'clicked', 'concepts/Compose']);">Compose</a> 
              </li>
              <li>
                <a href="component.html" onclick="_gaq.push(['_trackEvent', 'Sidenav', 'clicked', 'concepts/Component']);">Component</a> 
              </li>
              <li>
                <a href="events.html" onclick="_gaq.push(['_trackEvent', 'Sidenav', 'clicked', 'concepts/Events']);">Events</a> 
              </li>
              <li>
                <a href="dom.html" onclick="_gaq.push(['_trackEvent', 'Sidenav', 'clicked', 'concepts/Widget']);">Widget</a> 
              </li>
              <li>
                <a href="data.html" onclick="_gaq.push(['_trackEvent', 'Sidenav', 'clicked', 'concepts/Data']);">Data</a> 
              </li>
            </ul>
          </div>
        </div>
        <div class="col col-lg-9">
          <div class="panel panel-docs">
            <blockquote>
              <p>The compose module is a mixin based object composition factory, features powerful and robust object creation and deterministic multiple inheritance, notablely it DOES NOT use prototype chain for inheritance, which eliminates unexpected modification
                from prototype chain, and being more performant.</p>
            </blockquote>
            <h2 id="extend">Extend</h2> 
            <p>The factory assists in composing both constructors or instances, by consuming a <strong>specification</strong> 
              object, by mixing in all properties found in object onto the original and return a new constructor.</p>
            <pre><code class="language-js"><span class="keyword">var</span>  Component = Factory({
  <span class="string">"start"</span>: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span> }
});
<span class="keyword">var</span>  Widget = Component.extend({
  <span class="string">"render"</span>: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span> }
});
<span class="keyword">var</span>  foo = Widget.create({
  <span class="string">"displayName"</span>: <span class="string">"foo"</span> 
});</code></pre>
            <h2 id="composite">Composite</h2> 
            <p>Factory can be quite flexiable, one or more <strong>specs</strong>  or <strong>constructors</strong>  can be passed as arguments, ordered from left to right, with the ones comes later taken precedence (overriding) over the former.
            </p>
            <pre><code class="language-js"><span class="comment">// Define the constructor.</span> 
<span class="keyword">var</span>  MyClass = Factory(<span class="function"><span class="keyword">function</span>  <span class="params">()</span>  {</span> 
  <span class="comment">// initialize the object...</span> 
  <span class="keyword">this</span>.baz = <span class="string">"quz"</span>;
},
{
  foo: <span class="string">"bar"</span>,
  <span class="keyword">do</span>: <span class="function"><span class="keyword">function</span>  <span class="params">()</span>  {</span> 
    <span class="keyword">return</span>  <span class="string">"work"</span>;
  },
  <span class="comment">// a special handler for "signal" type with value "foo".</span> 
  <span class="string">"signal/foo"</span>: <span class="function"><span class="keyword">function</span>  <span class="params">()</span>  {</span> 
  }
});
<span class="keyword">var</span>  MyBehavior = Factory({
  somethingElse: <span class="function"><span class="keyword">function</span>  <span class="params">()</span>  {</span> 
  }
});
<span class="comment">// SubClass extends from MyClass and mixin MyBehavior</span> 
<span class="keyword">var</span>  SubClass = MyClass.extend(<span class="function"><span class="keyword">function</span>  <span class="params">()</span>  {</span> 
  <span class="comment">// initialize the object...</span> 
},
MyBehavior,
{
  <span class="comment">// Overwrite parent.</span> 
  foo: <span class="string">"baz"</span>,
  <span class="comment">// Override parent with after call.</span> 
  <span class="keyword">do</span>: Factory.after(<span class="function"><span class="keyword">function</span>  <span class="params">(retval)</span>  {</span> 
    <span class="keyword">return</span>  retval + <span class="string">","</span>  + <span class="string">"play"</span>;
  }),
  move: <span class="function"><span class="keyword">function</span>  <span class="params">()</span>  {</span> 
  }
});
<span class="comment">// Instantiate the subClass.</span> 
<span class="keyword">var</span>  instance = SubClass.create({
  evenMore: <span class="function"><span class="keyword">function</span>  <span class="params">()</span>  {</span> 
  }
});
<span class="comment">// "baz"</span> 
instance.foo;
<span class="comment">// "quz"</span> 
instance.baz;
<span class="comment">// "work play"</span> 
instance.<span class="keyword">do</span> ();
instance.somethingElse();
instance.evenMore();</code></pre>
            <p>Besides of regular object composition feature, the factory also introduces a few necessary features for building TroopJS component:
            </p>
            <ul>
              <li><strong>Decorators</strong>  are convenient method override eliminating the need for <code>super</code> call;</li>
              <li><strong>Specials</strong>  are irregular functions for describing reactive component behaviors, aka. event listeners.</li>
            </ul>
            <hr>
            <div class="alert">
              <p>Find an error?
                <a class="alert-link" href="https://github.com/troopjs/troopjs.com/issues?state=open">Let us know â†’</a> 
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="../assets/js/jquery.js"></script>
    <script src="../assets/js/bootstrap.min.js"></script>
    <script src="../assets/js/holder.js"></script>
    <script src="../assets/js/highlight.js"></script>
    <script src="../assets/js/showup.js"></script>
    <script>
      $().showUp('.navbar');
    </script>
  </body>
</html>

